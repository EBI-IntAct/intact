<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"

                xmlns:iv="http://java.sun.com/jsf/composite/intactview"
                xmlns:ot="http://myfaces.apache.org/orchestra"

                xmlns:iaf="http://intact.ebi.ac.uk/functions"
                xmlns:iam="http://intact.ebi.ac.uk/miscel"
                xmlns:composite="http://java.sun.com/jsf/composite">

    <!-- INTERFACE -->
    <composite:interface>
        <composite:attribute name="features" type="java.util.Collection" required="true"/>
    </composite:interface>

    <!-- IMPLEMENTATION -->
    <composite:implementation>

        <p:dataTable id="#{cc.id}" var="feature" value="#{cc.attrs.features}" paginator="false" dynamic="false">
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Feature label"/>
                </f:facet>
                <h:outputText value="#{feature.shortLabel}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Type"/>
                </f:facet>
                <h:outputLink value="#{request.contextPath}/cv/#{feature.cvFeatureType.ac}">
                    <h:outputText value="#{feature.cvFeatureType.shortLabel}" />
                </h:outputLink>
            </p:column>

            <p:column>
                <f:facet name="header">
                    <h:outputText value="Detection method"/>
                </f:facet>
                <h:panelGroup rendered="#{feature.cvFeatureIdentification != null}">
                    <h:outputLink value="#{request.contextPath}/cv/#{feature.cvFeatureIdentification.ac}">
                        <h:outputText value="#{feature.cvFeatureIdentification.shortLabel}" />
                    </h:outputLink>
                </h:panelGroup>
                <h:outputText value="Not Specified" rendered="#{feature.cvFeatureIdentification == null}"/>
            </p:column>

            <p:column >
                <f:facet name="header">
                    <h:outputText value="Value"/>
                </f:facet>

                <ul>
                    <ui:repeat value="#{feature.ranges}" var="range">
                        <li>
                            <h:outputText value="#{range}" />
                        </li>
                    </ui:repeat>
                </ul>
            </p:column>

            <p:column >
                <f:facet name="header">
                    <h:outputText value="Feature Annotations"/>
                </f:facet>
                <iv:annotationTable annotations="#{feature.annotations}"/>
            </p:column>

            <p:column >
                <f:facet name="header">
                    <h:outputText value="Feature Xrefs"/>
                </f:facet>

                <iv:xrefTable xrefs="#{feature.xrefs}"/>
            </p:column>
        </p:dataTable>

        <div class="legend" style="margin-top: 5px; margin-left: 15px;" align="right">
            <b>Legend:</b>

        </div>

    </composite:implementation>

</ui:composition>