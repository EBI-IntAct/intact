/*
 * Copyright 2001-2007 The European Bioinformatics Institute.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package ${packageName};

import java.util.*;
import uk.ac.ebi.intact.psixml.tools.validator.*;

#foreach( $importedClass in ${mcm.importedClasses} )
import ${importedClass.name};
#end

/**
 * This class is autogenerated. DO NOT MODIFY!
 * ${artifactId}, v.${version}
 */
public class ${type} implements Validator<${modelClass.simpleName}> {

    public ${type}()
    {
        // empty constructor
    }

    public ValidationReport validate(${modelClass.simpleName} model)
    {
        ValidationReportImpl report = new ValidationReportImpl();

        #foreach( $fieldMetadata in ${mcm.individuals} )
        #set ( $validatorVarName = "validator$velocityCount" )
        #set ( $reportVarName = "report$velocityCount" )

        ${fieldMetadata.validatorClassName} ${validatorVarName} = new ${fieldMetadata.validatorClassName}();
        ValidationReport ${reportVarName} = ${validatorVarName}.validate(model.${fieldMetadata.getterMethodName}());
        report.mergeWith($reportVarName);
        
        #end

        #foreach( $fieldMetadata in ${mcm.collections} )

        for (${fieldMetadata.type.simpleName} elem : model.${fieldMetadata.getterMethodName}()) {
            ${fieldMetadata.validatorClassName} validator = new ${fieldMetadata.validatorClassName}();
            ValidationReport subReport = validator.validate(elem);
            report.mergeWith(subReport);
        }
        #end

        return report;
    }
}